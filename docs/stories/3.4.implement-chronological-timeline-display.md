### **Story Title: Implement Chronological Nooklet Timeline Display in Editor**

**User User:**
As a Creator,
I want to view my nooklets in a chronological timeline directly within the editor, with subtle date and time markers,
so that I can easily review my past thoughts and entries in a continuous flow.

**Story Context:**
*   **Integrates with:** Time-based nooklet chunking and reconstruction logic (Story 3.3), home page UI (CodeMirror editor).
*   **Technology:** React, AdonisJS backend.
*   **Pattern:** Continuous content display within a single editor instance.

**Acceptance Criteria:**
1.  The CodeMirror editor displays the user's nooklets chronologically.
2.  All loaded nooklets for a given day are presented as a single, continuous flow within the CodeMirror editor.
3.  A clear "day parent header" (e.g., "September 9, 2025") is dynamically generated and displayed by the frontend at the beginning of each day's content within the editor.
4.  Within each day's content, each individual nooklet is preceded by a subtle timestamp (e.g., "10:30 AM") indicating its creation time.
5.  The display correctly integrates with the time-based nooklet chunking and reconstruction logic (from story 3.3).
6.  Nooklets from today and yesterday are loaded initially, with older entries lazily loaded on scroll.
7.  New tests verify the chronological display, day headers, timestamp markers, and lazy loading of nooklets within the CodeMirror editor.

**Tasks / Subtasks:**
- [ ] Implement frontend logic to detect typing pauses and trigger save events for *new* `Nooklet` entries based on the defined time gap (2 min / 45 min).
- [ ] Implement frontend logic to detect edits within *existing* `Nooklet` entries and send only the modified block's content (identified by ID/timestamp) to the backend for upsert.
- [ ] Implement frontend logic to detect deletion of *existing* `Nooklet` entries and send delete requests for those IDs.
- [ ] Implement backend endpoint to receive individual `Nooklet` content upserts (by ID) and deletions.
- [ ] Develop backend API to support fetching nooklets by date range (e.g., today, yesterday) and paginated/infinite scroll for older entries.
- [ ] Develop backend logic to retrieve nooklets for a given range and concatenate their content chronologically for display. This includes inserting invisible markers between nooklet contents.
- [ ] Implement frontend logic for initial load of today's and yesterday's nooklets.
- [ ] Implement frontend infinite scroll or "Load More" functionality for lazy loading older nooklets.
- [ ] Implement frontend logic to display the concatenated markdown content in the editor, ensuring invisible markers are used for internal processing but stripped for user display.
- [ ] Implement frontend logic to dynamically generate and insert day headers based on the `startedAt` timestamp of the nooklets.
- [ ] Implement frontend UI to display a subtle visual indicator for the active text block based on cursor position.
- [ ] Create comprehensive unit and integration tests for time-based chunking, granular saving/updating/deleting, retrieval, lazy loading, and reconstruction, including the UI indicator.
- [ ] Update `architecture.md` with details on the time-based chunking and granular saving/loading strategy.

**Dev Notes:**
*   The "timeline" is the CodeMirror editor itself, displaying a continuous stream of content.
*   Day headers will be dynamically generated and inserted by the frontend based on the `startedAt` timestamp of the nooklets. The backend will *not* insert these.
*   Timestamp markers will be inserted into the markdown content by the backend (similar to invisible markers, but visible and styled). The frontend will render these.
*   The frontend should ensure these markers are visually distinct but do not interfere with the editing experience of the actual nooklet content.

**Change Log:**
| Date | Version | Description | Author |
|---|---|---|---|
| 2025-09-09 | 1.0 | Initial story creation | John (PM) |

**Dev Agent Record:**
**Agent Model Used:**
**Debug Log References:**
**Completion Notes List:**
**File List:**

**QA Results:**

**Definition of Done:**
- [ ] Functional requirements are met and tested.
- [ ] All existing and new tests pass.