### **Story Title: Implement Soft Deletes for Core Models**

**Status:** Approved

**User Story:**
As a developer/system administrator,
I want to replace hard deletes with soft deletes for core data models,
so that user data can be easily recovered, preventing accidental permanent data loss.

**Story Context:**
*   **Integrates with:** Existing Lucid ORM models (e.g., Nooklet, Tag).
*   **Technology:** AdonisJS v6, Lucid ORM.
*   **Pattern:** Standard AdonisJS model composition using mixins.

**Acceptance Criteria:**
1.  The `adonis-lucid-soft-deletes` package is installed and configured.
2.  A database migration is created to add a `deleted_at` timestamp column to the `nooklets` and `tags` tables.
3.  The `SoftDeletes` mixin is applied to the `Nooklet` and `Tag` models.
4.  Calling the `.delete()` method on a model instance performs a soft delete.
5.  A `.restore()` method is available on soft-deleted models to undo the deletion.
6.  Standard model queries exclude soft-deleted records by default.
7.  New tests are created to verify soft-delete, restore, and query behaviors.
8.  Existing tests for CRUD operations continue to pass.

**Tasks / Subtasks:**
- [ ] Install `adonis-lucid-soft-deletes` package (AC: 1)
- [ ] Create database migration to add `deleted_at` column to `nooklets` table (AC: 2)
- [ ] Create database migration to add `deleted_at` column to `tags` table (AC: 2)
- [ ] Apply `SoftDeletes` mixin to `Nooklet` model (AC: 3)
- [ ] Apply `SoftDeletes` mixin to `Tag` model (AC: 3)
- [ ] Verify soft delete functionality by calling `.delete()` (AC: 4)
- [ ] Verify restore functionality by calling `.restore()` (AC: 5)
- [ ] Verify default queries exclude soft-deleted records (AC: 6)
- [ ] Write unit tests for soft-delete, restore, and query behaviors (AC: 7)
- [ ] Run existing CRUD tests to ensure no regressions (AC: 8)

**Dev Notes:**
*   The primary task is to install the `adonis-lucid-soft-deletes` package and apply it to the models as per its documentation.
*   A new migration file must be created using `node ace make:migration add_soft_deletes`.

**Testing:**
*   Test file location: `tests/functional/` (or `tests/unit/` for model-specific tests)
*   Test standards: Follow existing Japa test patterns.
*   Testing frameworks and patterns to use: Japa.
*   Any specific testing requirements for this story: Ensure both soft-delete and restore operations are covered, and that queries correctly filter deleted records.

**Change Log:**
| Date | Version | Description | Author |
|---|---|---|---|
| 2025-09-09 | 1.0 | Initial story creation | John (PM) |

**Dev Agent Record:**
**Agent Model Used:**
**Debug Log References:**
**Completion Notes List:**
**File List:**

**QA Results:**

**Definition of Done:**
- [ ] Functional requirements are met and tested.
- [ ] The database migration is successfully applied.
- [ ] All existing and new tests pass.